<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>J-PROJECT Portfolio</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>

  <script>
    // ğŸµ ë°°ê²½ìŒì•… URL (GitHub Pages)
    const MUSIC_URL = 'music/background.mp3';

    // ğŸµ ë°°ê²½ìŒì•… ì „ì—­ ê´€ë¦¬
    const audioElement = document.createElement('audio');
    audioElement.id = 'bg-music';
    audioElement.loop = true;
    audioElement.style.display = 'none';
    audioElement.src = MUSIC_URL;
    document.body.appendChild(audioElement);

    // localStorage í—¬í¼
    const storage = {
      get: (key, defaultValue) => {
        try {
          const item = localStorage.getItem(key);
          return item ? JSON.parse(item) : defaultValue;
        } catch (e) {
          return defaultValue;
        }
      },
      set: (key, value) => {
        try {
          localStorage.setItem(key, JSON.stringify(value));
        } catch (e) {
          console.warn('Storage error:', e);
        }
      }
    };

    // ìŒì•… ë³µì›
    const savedVolume = parseInt(storage.get('musicVolume', 30));
    const wasPlaying = storage.get('musicWasPlaying', false);
    audioElement.volume = savedVolume / 100;

    if (wasPlaying) {
      setTimeout(() => {
        audioElement.play().catch(e => {
          console.log('ìë™ì¬ìƒ ì°¨ë‹¨ë¨ (ë¸Œë¼ìš°ì € ì •ì±…)');
          storage.set('musicWasPlaying', false);
        });
      }, 1000);
    }

    audioElement.addEventListener('play', () => storage.set('musicWasPlaying', true));
    audioElement.addEventListener('pause', () => storage.set('musicWasPlaying', false));

    // ============================================
    // í¬íŠ¸í´ë¦¬ì˜¤ HTML ë Œë”ë§
    // ============================================

    const ROOT = document.getElementById('root');

    // ë°ì´í„° ë¡œë“œ
    const mainVideoUrl = storage.get('mainVideoUrl', 'https://www.youtube.com/embed/gqos6G0MnzM?autoplay=1&mute=1&loop=1&playlist=gqos6G0MnzM');
    const workItems = storage.get('workItems', [
      { id: 1, text: 'ì‹ ì… ì‚¬ì› ì—…ë¬´ êµìœ¡' },
      { id: 2, text: 'ê¸°ì¡´ ì‚¬ì› ì—…ë¬´ êµìœ¡' },
      { id: 3, text: 'ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸ ê°•ì˜' },
      { id: 4, text: 'CS êµìœ¡ ê¸°íš ë° ì§„í–‰' },
      { id: 5, text: 'ì˜ìƒ êµìœ¡ ì œì‘' },
      { id: 6, text: 'ê°œì¸ì •ë³´ ë³´í˜¸ êµìœ¡ ê¸°íš ë° ì§„í–‰' },
      { id: 7, text: 'ê°„ë‹¨í•œ í”„ë¡œê·¸ë¨ ê°œë°œ' },
      { id: 8, text: 'ìƒë‹´ ëª¨ë‹ˆí„°ë§ ì§„í–‰ ë° ë¶„ì„ ë³´ê³ ' },
      { id: 9, text: 'í”„ë¡œëª¨ì…˜ ê¸°íš ë° ì§„í–‰' },
    ]);
    const toolItems = storage.get('toolItems', [
      { id: 1, text: 'Microsoft Excel' },
      { id: 2, text: 'Microsoft PowerPoint' },
      { id: 3, text: 'Teams' },
      { id: 4, text: 'Zoom' },
      { id: 5, text: 'Premiere Pro' },
      { id: 6, text: 'Aftereffect' },
      { id: 7, text: 'Chat GPT / Python / Notion' },
      { id: 8, text: 'ë‹¤ì–‘í•œ AI íˆ´' },
    ]);
    const portfolioMedias = storage.get('portfolioMedias', [
      { id: 1, title: 'ê°œì¸ì •ë³´ ìœ ìš© ì‚¬ë¡€ êµìœ¡', url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ' },
      { id: 2, title: 'ê°œì¸ì •ë³´ ìœ ì¶œ ì‚¬ë¡€2', url: 'https://youtu.be/jNQXAC9IVRw' }
    ]);

    let isLoggedIn = false;
    let musicVolume = savedVolume;
    let musicIsPlaying = !audioElement.paused;

    // ìŒì•… ì•„ì´ì½˜
    function getMusicIcon() {
      if (musicVolume === 0) return 'ğŸ”‡';
      if (musicVolume < 33) return 'ğŸ”ˆ';
      if (musicVolume < 67) return 'ğŸ”‰';
      return 'ğŸ”Š';
    }

    // HTML ë Œë”ë§
    function render() {
      ROOT.innerHTML = `
        <div class="min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white">
          <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
          <nav class="sticky top-0 z-40 bg-slate-900/95 backdrop-blur border-b border-slate-700/50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
              <h1 class="text-2xl font-bold text-cyan-400">J-PROJECT</h1>
              <div class="flex items-center gap-4">
                <div class="flex items-center gap-3 bg-slate-800/50 border border-slate-700 rounded-lg px-3 py-2">
                  <button 
                    onclick="toggleMusic()"
                    class="text-cyan-400 hover:text-cyan-300 transition text-lg"
                    title="ìŒì•… ${musicIsPlaying ? 'ì •ì§€' : 'ì¬ìƒ'}"
                  >
                    ${getMusicIcon()}
                  </button>
                  <input 
                    type="range" 
                    min="0" max="100" 
                    value="${musicVolume}"
                    onchange="changeVolume(this.value)"
                    class="w-20 h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-400"
                  />
                  <span class="text-xs text-slate-400 w-8 text-right">${musicVolume}%</span>
                </div>
                ${!isLoggedIn ? `
                  <button onclick="showLogin()" class="flex items-center gap-2 bg-cyan-600/20 hover:bg-cyan-600/30 text-cyan-400 px-4 py-2 rounded-lg transition">
                    <span class="text-sm">ğŸ” ê´€ë¦¬ì ë¡œê·¸ì¸</span>
                  </button>
                ` : `
                  <button onclick="logout()" class="flex items-center gap-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 px-4 py-2 rounded-lg transition">
                    <span class="text-sm">ğŸšª ë¡œê·¸ì•„ì›ƒ</span>
                  </button>
                `}
              </div>
            </div>
          </nav>

          <main>
            <!-- ë©”ì¸ ì˜ìƒ -->
            <section class="py-12 sm:py-16">
              <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-2xl font-bold mb-8 text-center text-cyan-300">ë©”ì¸ ì˜ìƒ</h2>
                <div class="aspect-video bg-slate-800 rounded-lg overflow-hidden shadow-lg border border-slate-700 mb-8">
                  <iframe width="100%" height="100%" src="${mainVideoUrl}" title="Main Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
              </div>
            </section>

            <!-- ì†Œê°œ -->
            <section class="py-12 sm:py-16 text-center">
              <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold mb-4 text-cyan-200">ì•ˆë…•í•˜ì„¸ìš”! êµìœ¡ì˜ íš¨ìœ¨ì„ ë””ìì¸í•˜ëŠ”</h2>
                <h2 class="text-3xl font-bold mb-3 text-cyan-200">ê°•ì‚¬ ì •ì§€ì˜ì…ë‹ˆë‹¤.</h2>
                <div class="text-slate-200 space-y-5 text-base sm:text-lg max-w-3xl mx-auto">
                  <p>ì‹ ì… êµìœ¡ ë° ì—…ë¬´ êµìœ¡ì„ ì¤‘ì‹¬ìœ¼ë¡œ ê°•ì˜ë¥¼ í•´ì™”ìŠµë‹ˆë‹¤.</p>
                  <p>ë³€í™”í•˜ëŠ” ì‹œëŒ€ì— ë§ì¶°, AIì™€ ìë™í™” ë„êµ¬ë¥¼ ì ê·¹ í™œìš©í•˜ì—¬ ì—…ë¬´ì˜ íš¨ìœ¨ì„ ë†’ì´ëŠ” ë°©ì‹ì„ ì ìš©í•˜ë ¤ ë…¸ë ¥í•©ë‹ˆë‹¤.</p>
                  <p>ì˜ìƒ êµìœ¡ ì½˜í…ì¸  ì œì‘ ì—­ëŸ‰ì„ ê°–ì¶”ê³  ìˆìœ¼ë©°, CS ê°•ì‚¬ 1ê¸‰ ìê²©ì¦ì„ ì†Œì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
                  <p>í˜„ì¬ í™ˆí˜ì´ì§€ ì—­ì‹œ HTML/CSSë¥¼ ì´ìš©í•˜ì—¬ ì§ì ‘ ì œì‘í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
                </div>
                <p class="text-slate-500 mt-10 text-base sm:text-lg">í˜„ì‹¤ì— ì•ˆì£¼í•˜ê¸°ë³´ë‹¤ ëŠì„ì—†ëŠ” ë„ì „ê³¼ ë…¸ë ¥ìœ¼ë¡œ í•­ìƒ ë°œì „í•˜ëŠ” ì‚¬ëŒì´ ë˜ê³  ì‹¶ìŠµë‹ˆë‹¤.</p>
              </div>
            </section>

            <!-- ì£¼ìš” í™œë™ -->
            <section class="py-12 sm:py-16">
              <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold mb-12 text-center text-cyan-300">ì£¼ìš” í™œë™</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                  <div class="bg-slate-800/40 border border-slate-700 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold mb-4 text-cyan-300">ì§„í–‰ ì—…ë¬´</h3>
                    <div class="w-full h-px bg-cyan-400/50 mb-6"></div>
                    <ul class="space-y-2">
                      ${workItems.map(item => `
                        <li class="text-slate-300">
                          <span class="text-cyan-400 mr-2">â€¢</span>${item.text}
                        </li>
                      `).join('')}
                    </ul>
                  </div>

                  <div class="bg-slate-800/40 border border-slate-700 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold mb-4 text-cyan-300">ì´ìš© ê°€ëŠ¥ íˆ´</h3>
                    <div class="w-full h-px bg-cyan-400/50 mb-6"></div>
                    <ul class="space-y-2">
                      ${toolItems.map(item => `
                        <li class="text-slate-300">
                          <span class="text-cyan-400 mr-2">â€¢</span>${item.text}
                        </li>
                      `).join('')}
                    </ul>
                  </div>
                </div>
              </div>
            </section>

            <!-- í¬íŠ¸í´ë¦¬ì˜¤ -->
            <section class="py-12 sm:py-16 bg-slate-900/50">
              <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold mb-12 text-center text-cyan-300">í¬íŠ¸í´ë¦¬ì˜¤ ë¯¸ë””ì–´</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                  ${portfolioMedias.map(media => `
                    <div class="bg-slate-800 rounded-lg overflow-hidden shadow-lg border border-slate-700">
                      <div class="aspect-video bg-slate-900">
                        ${media.url.includes('youtube') ? `
                          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/${media.url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/)?.[1]}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        ` : `
                          <div class="flex items-center justify-center h-full bg-slate-900">
                            <p class="text-slate-400">ë¯¸ë””ì–´</p>
                          </div>
                        `}
                      </div>
                      <div class="p-4">
                        <h3 class="font-semibold text-white">${media.title}</h3>
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            </section>

            <!-- ì—°ë½ì²˜ -->
            <section class="py-16 border-t border-slate-700">
              <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-2xl font-bold mb-8 text-center text-cyan-300">ì—°ë½ì²˜</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto">
                  <div class="bg-slate-800/40 border border-slate-700 rounded-lg p-6 text-center">
                    <p class="text-slate-400 text-sm mb-2">ì´ë©”ì¼</p>
                    <p class="text-lg font-semibold text-cyan-300">jiyoung1013@gmail.com</p>
                  </div>
                  <div class="bg-slate-800/40 border border-slate-700 rounded-lg p-6 text-center">
                    <p class="text-slate-400 text-sm mb-2">ì „í™”</p>
                    <p class="text-lg font-semibold text-cyan-300">010-4007-1417</p>
                  </div>
                </div>
                <div class="text-center mt-12 text-slate-400 text-sm border-t border-slate-700 pt-8">
                  <p>Â© 2025 Jiyoung - All rights reserved</p>
                </div>
              </div>
            </section>
          </main>
        </div>
      `;

      updateMusicUI();
    }

    // ìŒì•… í† ê¸€
    function toggleMusic() {
      if (audioElement.paused) {
        audioElement.play().catch(e => {
          console.log('ì¬ìƒ ì‹¤íŒ¨:', e);
          alert('ìŒì•…ì„ ì¬ìƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        });
      } else {
        audioElement.pause();
      }
      musicIsPlaying = !audioElement.paused;
      render();
    }

    // ìŒëŸ‰ ì¡°ì ˆ
    function changeVolume(value) {
      musicVolume = parseInt(value);
      audioElement.volume = musicVolume / 100;
      storage.set('musicVolume', musicVolume);
      render();
    }

    // ìŒì•… UI ì—…ë°ì´íŠ¸
    function updateMusicUI() {
      musicIsPlaying = !audioElement.paused;
    }

    // ë¡œê·¸ì¸
    function showLogin() {
      const password = prompt('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
      if (password === 'wjdwldud2025') {
        isLoggedIn = true;
        render();
      } else if (password !== null) {
        alert('ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.');
      }
    }

    // ë¡œê·¸ì•„ì›ƒ
    function logout() {
      isLoggedIn = false;
      render();
    }

    // ì´ˆê¸° ë Œë”ë§
    render();

    // ìŒì•… ìƒíƒœ ì£¼ê¸°ì  ì—…ë°ì´íŠ¸
    setInterval(() => {
      const newState = !audioElement.paused;
      if (newState !== musicIsPlaying) {
        musicIsPlaying = newState;
        render();
      }
    }, 500);
  </script>
</body>
</html>
