<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>J-PROJECT Portfolio</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    const convertToEmbedUrl = (url, autoplay = false, mute = false, loop = false) => {
      if (!url) return null;
      let videoId = null;
      const patterns = [
        /(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([a-zA-Z0-9_-]{11})/,
        /(?:https?:\/\/)?(?:www\.)?youtu\.be\/([a-zA-Z0-9_-]{11})/,
        /(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/
      ];
      for (const pattern of patterns) {
        const match = url.match(pattern);
        if (match && match[1]) {
          videoId = match[1];
          break;
        }
      }
      
      if (videoId) {
        let embedUrl = `https://www.youtube.com/embed/${videoId}`;
        const params = [];
        if (autoplay) params.push('autoplay=1');
        if (mute) params.push('mute=1');
        if (loop) {
            params.push('loop=1');
            params.push(`playlist=${videoId}`);
        }
        if (params.length > 0) {
            embedUrl += `?${params.join('&')}`;
        }
        return embedUrl;
      }
      return url; // Return original url if no match
    };

    const ListItem = ({ item, onUpdate, onDelete, isLoggedIn }) => {
        const [isEditing, setIsEditing] = useState(false);
        const [text, setText] = useState(item.text);

        const handleSave = () => {
            onUpdate(item.id, text);
            setIsEditing(false);
        };

        return (
            <li className="flex items-center justify-between py-2">
                {isEditing ? (
                    <input 
                        type="text"
                        value={text}
                        onChange={(e) => setText(e.target.value)}
                        className="w-full bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white"
                        autoFocus
                    />
                ) : (
                    <span className="text-slate-300 flex-grow">
                        <span className="text-cyan-400 mr-2">•</span>{item.text}
                    </span>
                )}
                {isLoggedIn && (
                    <div className="flex gap-2 ml-4">
                        {isEditing ? (
                            <>
                                <button onClick={handleSave} className="text-green-400 hover:text-green-300 transition"><i data-lucide="save" style={{width: 18, height: 18}}></i></button>
                                <button onClick={() => setIsEditing(false)} className="text-slate-400 hover:text-slate-300 transition"><i data-lucide="x" style={{width: 18, height: 18}}></i></button>
                            </>
                        ) : (
                            <>
                                <button onClick={() => setIsEditing(true)} className="text-blue-400 hover:text-blue-300 transition"><i data-lucide="edit-2" style={{width: 18, height: 18}}></i></button>
                                <button onClick={() => onDelete(item.id)} className="text-red-400 hover:text-red-300 transition"><i data-lucide="trash-2" style={{width: 18, height: 18}}></i></button>
                            </>
                        )}
                    </div>
                )}
            </li>
        )
    }

    const PortfolioSite = () => {
      useEffect(() => {
        lucide.createIcons();
      },);

      const [isLoggedIn, setIsLoggedIn] = useState(false);
      const [showLoginModal, setShowLoginModal] = useState(false);
      const [passwordInput, setPasswordInput] = useState('');
      const ADMIN_PASSWORD = 'wjdwldud2025';
      
      const [mainVideoUrl, setMainVideoUrl] = useState(convertToEmbedUrl('https://youtu.be/gqos6G0MnzM', true, true, true));
      const [editingMainVideoUrl, setEditingMainVideoUrl] = useState('');
      
      const [workItems, setWorkItems] = useState([
        { id: 1, text: '신입 사원 업무 교육' },
        { id: 2, text: '기존 사원 업무 교육' },
        { id: 3, text: '온라인/오프라인 강의' },
        { id: 4, text: 'CS 교육 기획 및 진행' },
        { id: 5, text: '영상 교육 제작' },
        { id: 6, text: '개인정보 보호 교육 기획 및 진행' },
        { id: 7, text: '간단한 프로그램 개발' },
        { id: 8, text: '상담 모니터링 진행 및 분석 보고' },
        { id: 9, text: '프로모션 기획 및 진행' },
      ]);

      const [toolItems, setToolItems] = useState([
        { id: 1, text: 'Microsoft Excel' },
        { id: 2, text: 'Microsoft PowerPoint' },
        { id: 3, text: 'Teams' },
        { id: 4, text: 'Zoom' },
        { id: 5, text: 'Premiere Pro' },
        { id: 6, text: 'Aftereffect' },
        { id: 7, text: 'Chat GPT / Python / Notion' },
        { id: 8, text: '다양한 AI 툴' },
      ]);

      const [newWorkItem, setNewWorkItem] = useState('');
      const [newToolItem, setNewToolItem] = useState('');
      
      const [portfolioVideos, setPortfolioVideos] = useState([
        { id: 1, title: '개인정보 유용 사례 교육', youtubeUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ' },
        { id: 2, title: '개인정보 유출 사례2', youtubeUrl: 'https://www.youtube.com/embed/jNQXAC9IVRw' }
      ]);
       
      const [email] = useState('jiyoung1013@gmail.com');
      const [phone] = useState('010-4007-1417');
      
      const [newVideoTitle, setNewVideoTitle] = useState('');
      const [newVideoUrl, setNewVideoUrl] = useState('');

      const createItemHandler = (items, setItems, newItem, setNewItem) => () => {
        if (newItem.trim()) {
            const newId = Math.max(0, ...items.map(i => i.id)) + 1;
            setItems([...items, { id: newId, text: newItem }]);
            setNewItem('');
        }
      };

      const updateItemHandler = (items, setItems) => (id, newText) => {
        setItems(items.map(item => item.id === id ? { ...item, text: newText } : item));
      };

      const deleteItemHandler = (items, setItems) => (id) => {
        if (window.confirm('정말 삭제하시겠습니까?')) {
            setItems(items.filter(item => item.id !== id));
        }
      };
      
      const handleAddWorkItem = createItemHandler(workItems, setWorkItems, newWorkItem, setNewWorkItem);
      const handleUpdateWorkItem = updateItemHandler(workItems, setWorkItems);
      const handleDeleteWorkItem = deleteItemHandler(workItems, setWorkItems);
      
      const handleAddToolItem = createItemHandler(toolItems, setToolItems, newToolItem, setNewToolItem);
      const handleUpdateToolItem = updateItemHandler(toolItems, setToolItems);
      const handleDeleteToolItem = deleteItemHandler(toolItems, setToolItems);

      const addPortfolioVideo = () => {
        const embedUrl = convertToEmbedUrl(newVideoUrl);
        if (newVideoTitle.trim() && embedUrl) {
          setPortfolioVideos([...portfolioVideos, {
            id: Math.max(...portfolioVideos.map(v => v.id), 0) + 1,
            title: newVideoTitle,
            youtubeUrl: embedUrl
          }]);
          setNewVideoTitle('');
          setNewVideoUrl('');
        } else {
            alert("유효한 YouTube 영상 주소를 입력해주세요.");
        }
      };

      const deletePortfolioVideo = (id) => {
        if (window.confirm('정말 삭제하시겠습니까?')) {
            setPortfolioVideos(portfolioVideos.filter(v => v.id !== id));
        }
      };
      
      const handleUpdateMainVideo = () => {
          const embedUrl = convertToEmbedUrl(editingMainVideoUrl, true, true, true);
          if(embedUrl){
              setMainVideoUrl(embedUrl);
              setEditingMainVideoUrl('');
          } else {
              alert("유효한 YouTube 영상 주소를 입력해주세요.");
          }
      }

      const handleLogin = (e) => {
        e.preventDefault();
        if (passwordInput === ADMIN_PASSWORD) {
          setIsLoggedIn(true);
          setShowLoginModal(false);
          setPasswordInput('');
        } else {
          alert('비밀번호가 틀렸습니다.');
          setPasswordInput('');
        }
      };

      const handleLogout = () => {
        setIsLoggedIn(false);
      };

      return (
        <div className="min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white">
          {showLoginModal && (
             <div className="fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4">
                <div className="w-full max-w-md">
                <div className="bg-slate-800 rounded-xl shadow-2xl p-8 border border-slate-700 relative">
                    <button onClick={() => setShowLoginModal(false)} className="absolute top-4 right-4 text-slate-400 hover:text-white transition"><i data-lucide="x"></i></button>
                    <h1 className="text-2xl font-bold text-center mb-2 text-white">관리자 로그인</h1>
                    <p className="text-center text-slate-400 mb-8">Administrator Access</p>
                    <form onSubmit={handleLogin} className="space-y-4">
                    <div>
                        <label className="block text-slate-300 text-sm font-medium mb-2">비밀번호</label>
                        <input
                        type="password"
                        value={passwordInput}
                        onChange={(e) => setPasswordInput(e.target.value)}
                        placeholder="비밀번호를 입력하세요"
                        autoComplete="off"
                        className="w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        />
                    </div>
                    <button type="submit" className="w-full bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-bold py-3 px-4 rounded-lg transition duration-300">
                        로그인
                    </button>
                    </form>
                </div>
                </div>
            </div>
          )}

          <nav className="sticky top-0 z-40 bg-slate-900/95 backdrop-blur border-b border-slate-700/50">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
              <h1 className="text-2xl font-bold text-cyan-400">J-PROJECT</h1>
              {!isLoggedIn ? (
                <button onClick={() => setShowLoginModal(true)} className="flex items-center gap-2 bg-cyan-600/20 hover:bg-cyan-600/30 text-cyan-400 px-4 py-2 rounded-lg transition">
                    <i data-lucide="log-in" style={{width: 18, height: 18}}></i>
                    <span className="text-sm">관리자 로그인</span>
                </button>
              ) : (
                <button onClick={handleLogout} className="flex items-center gap-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 px-4 py-2 rounded-lg transition">
                    <i data-lucide="log-out" style={{width: 18, height: 18}}></i>
                    <span className="text-sm">로그아웃</span>
                </button>
              )}
            </div>
          </nav>
            <main>
            <section className="py-12 sm:py-16">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 className="text-2xl font-bold mb-8 text-center text-cyan-300">메인 영상</h2>
                <div className="aspect-video bg-slate-800 rounded-lg overflow-hidden shadow-lg border border-slate-700 mb-8">
                    {mainVideoUrl && <iframe width="100%" height="100%" src={mainVideoUrl} title="Main Video" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen className="w-full h-full" />}
                </div>
                {isLoggedIn && (
                    <div className="bg-slate-800/50 border border-slate-700 rounded-lg p-6 max-w-3xl mx-auto">
                        <h3 className="text-lg font-semibold mb-4">메인 영상 URL 변경</h3>
                        <div className="flex flex-col sm:flex-row items-center gap-2">
                            <input
                            type="text"
                            placeholder="YouTube 영상 주소 (예: youtu.be/...)"
                            value={editingMainVideoUrl}
                            onChange={(e) => setEditingMainVideoUrl(e.target.value)}
                            className="w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"
                            />
                            <button onClick={handleUpdateMainVideo} className="bg-green-600 hover:bg-green-700 px-5 py-2 rounded-lg font-medium transition text-nowrap w-full sm:w-auto">저장</button>
                        </div>
                    </div>
                )}
                </div>
            </section>
            
            <section className="py-12 sm:py-16 text-center">
                <div className="max-w-mb-6 mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 className="text-3xl font-bold mb-4 text-cyan-200">안녕하세요! 교육의 효율을 디자인하는</h2>
                    <h2 className="text-3xl font-bold mb-3 text-cyan-200">강사 정지영입니다.</h2>
                    <div className="text-slate-200 space-y-5 text-base sm:text-lg max-w-max-w-5xl mx-auto">
                        <p>신입 교육 및 업무 교육을 중심으로 강의를 해왔습니다.</p>
                        <p>변화하는 시대에 맞춰, AI와 자동화 도구를 적극 활용하여 업무의 효율을 높이는 방식을 적용하려 노력합니다.</p>
                        <p>영상 교육 콘텐츠 제작 역량을 갖추고 있으며, CS 강사 1급 자격증을 소지하고 있습니다.</p>
                        <p>현재 홈페이지 역시 바이브 코딩 툴을 이용하여 직접 제작하였습니다.</p>
                    </div>
                    <p className="text-slate-500 mt-10 text-base sm:text-lg">현실에 안주하기보다 끊임없는 도전과 노력으로 항상 발전하는 사람이 되고 싶습니다.</p>
                </div>
            </section>

            <section className="py-12 sm:py-16">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 className="text-3xl font-bold mb-12 text-center text-cyan-300">주요 활동</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                    {/* 진행 업무 */}
                    <div className="bg-slate-800/40 border border-slate-700 rounded-lg p-6">
                        <h3 className="text-2xl font-semibold mb-4 text-cyan-300">진행 업무</h3>
                        <div className="w-full h-px bg-cyan-400/50 mb-6"></div>
                        <ul className="space-y-2 mb-6">
                            {workItems.map(item => (
                                <ListItem key={item.id} item={item} onUpdate={handleUpdateWorkItem} onDelete={handleDeleteWorkItem} isLoggedIn={isLoggedIn} />
                            ))}
                        </ul>
                        {isLoggedIn && (
                            <div className="flex gap-2">
                                <input
                                    type="text"
                                    placeholder="새 업무 추가"
                                    value={newWorkItem}
                                    onChange={(e) => setNewWorkItem(e.target.value)}
                                    className="w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"
                                />
                                <button onClick={handleAddWorkItem} className="bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded transition text-nowrap">추가</button>
                            </div>
                        )}
                    </div>
                    {/* 이용 가능 툴 */}
                    <div className="bg-slate-800/40 border border-slate-700 rounded-lg p-6">
                        <h3 className="text-2xl font-semibold mb-4 text-cyan-300">이용 가능 툴</h3>
                        <div className="w-full h-px bg-cyan-400/50 mb-6"></div>
                        <ul className="space-y-2 mb-6">
                            {toolItems.map(item => (
                                <ListItem key={item.id} item={item} onUpdate={handleUpdateToolItem} onDelete={handleDeleteToolItem} isLoggedIn={isLoggedIn} />
                            ))}
                        </ul>
                        {isLoggedIn && (
                            <div className="flex gap-2">
                                <input
                                    type="text"
                                    placeholder="새 툴 추가"
                                    value={newToolItem}
                                    onChange={(e) => setNewToolItem(e.target.value)}
                                    className="w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"
                                />
                                <button onClick={handleAddToolItem} className="bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded transition text-nowrap">추가</button>
                            </div>
                        )}
                    </div>
                </div>
                </div>
            </section>

            <section className="py-12 sm:py-16 bg-slate-900/50">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 className="text-3xl font-bold mb-12 text-center text-cyan-300">포트폴리오 미디어</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                    {portfolioVideos.map((video) => (
                    <div key={video.id} className="bg-slate-800 rounded-lg overflow-hidden shadow-lg border border-slate-700">
                        <div className="aspect-video bg-slate-900">
                        <iframe width="100%" height="100%" src={video.youtubeUrl} title={video.title} frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen className="w-full h-full" />
                        </div>
                        <div className="p-4 flex justify-between items-start">
                        <h3 className="font-semibold text-white mr-4">{video.title}</h3>
                        {isLoggedIn && <button onClick={() => deletePortfolioVideo(video.id)} className="flex items-center gap-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 px-3 py-2 rounded text-sm transition text-nowrap"><i data-lucide="trash-2" style={{width: 16, height: 16}}></i> 삭제</button>}
                        </div>
                    </div>
                    ))}
                </div>

                {isLoggedIn && (
                    <div className="bg-slate-800/50 border border-slate-700 rounded-lg p-6 max-w-3xl mx-auto">
                        <h3 className="text-lg font-semibold mb-4 flex items-center gap-2"><i data-lucide="plus" style={{width: 20, height: 20}}></i> 포트폴리오 영상 추가</h3>
                        <div className="space-y-3">
                        <input type="text" placeholder="영상 제목" value={newVideoTitle} onChange={(e) => setNewVideoTitle(e.target.value)} className="w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500" />
                        <input type="text" placeholder="YouTube 영상 주소" value={newVideoUrl} onChange={(e) => setNewVideoUrl(e.target.value)} className="w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500" />
                        <button onClick={addPortfolioVideo} className="bg-cyan-600 hover:bg-cyan-700 px-4 py-2 rounded-lg font-medium transition">영상 추가</button>
                        </div>
                    </div>
                )}
                </div>
            </section>

            <section className="py-16 border-t border-slate-700">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 className="text-2xl font-bold mb-8 text-center text-cyan-300">연락처</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto">
                    <div className="bg-slate-800/40 border border-slate-700 rounded-lg p-6 text-center"><p className="text-slate-400 text-sm mb-2">이메일</p><p className="text-lg font-semibold text-cyan-300">{email}</p></div>
                    <div className="bg-slate-800/40 border border-slate-700 rounded-lg p-6 text-center"><p className="text-slate-400 text-sm mb-2">전화</p><p className="text-lg font-semibold text-cyan-300">{phone}</p></div>
                </div>
                <div className="text-center mt-12 text-slate-400 text-sm border-t border-slate-700 pt-8"><p>© 2025 Jiyoung - All rights reserved</p></div>
                </div>
            </section>
        </main>
        </div>
      );
    };

    ReactDOM.render(<PortfolioSite />, document.getElementById('root'));
  </script>
</body>
</html>